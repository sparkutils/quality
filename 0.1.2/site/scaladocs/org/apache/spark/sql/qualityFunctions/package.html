<!DOCTYPE html >
<html>
        <head>
          <title>qualityFunctions - Quality 0.1.2 API - org.apache.spark.sql.qualityFunctions</title>
          <meta name="description" content="qualityFunctions - Quality 0.1.2 API - org.apache.spark.sql.qualityFunctions" />
          <meta name="keywords" content="qualityFunctions Quality 0.1.2 API org.apache.spark.sql.qualityFunctions" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../../../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../../../../index.html';
            var hash = 'org.apache.spark.sql.qualityFunctions.package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img alt="Package" src="../../../../../lib/package_big.png" />
        <p id="owner"><a href="../../../../package.html" class="extype" name="org">org</a>.<a href="../../../package.html" class="extype" name="org.apache">apache</a>.<a href="../../package.html" class="extype" name="org.apache.spark">spark</a>.<a href="../package.html" class="extype" name="org.apache.spark.sql">sql</a></p>
        <h1>qualityFunctions</h1><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">qualityFunctions</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        
        
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="org.apache.spark.sql.qualityFunctions.Digest" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="DigestextendsAnyRef"></a>
      <a id="Digest:Digest"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="Digest.html"><span class="name">Digest</span></a><span class="result"> extends <span class="extype" name="scala.AnyRef">AnyRef</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@DigestextendsAnyRef" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Basic digest implementation for Array[Long] based hashes
</p>
    </li><li name="org.apache.spark.sql.qualityFunctions.DigestFactory" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="DigestFactoryextendsSerializable"></a>
      <a id="DigestFactory:DigestFactory"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="DigestFactory.html"><span class="name">DigestFactory</span></a><span class="result"> extends <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@DigestFactoryextendsSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Factory to get a new or reset digest for each row
</p>
    </li><li name="org.apache.spark.sql.qualityFunctions.DoCodegenFallbackHandler" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="DoCodegenFallbackHandlerextendsLambdaCompilationUtils.LambdaCompilationHandler"></a>
      <a id="DoCodegenFallbackHandler:DoCodegenFallbackHandler"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="DoCodegenFallbackHandler.html"><span class="name">DoCodegenFallbackHandler</span></a><span class="result"> extends <a href="LambdaCompilationUtils$$LambdaCompilationHandler.html" class="extype" name="org.apache.spark.sql.qualityFunctions.LambdaCompilationUtils.LambdaCompilationHandler">LambdaCompilationHandler</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@DoCodegenFallbackHandlerextendsLambdaCompilationUtils.LambdaCompilationHandler" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Defaults to calling codeGen, this can either be an original compilation approach or the CodegenFallback depending on implementation.</p><div class="fullcomment"><div class="comment cmt"><p>Defaults to calling codeGen, this can either be an original compilation approach or the CodegenFallback depending on implementation.
It will evaluate the entire tree of expr and return all NamedLambdaVariables as they will not be using the same compilation approach.</p><p>This is the default for known OSS implementations and should also be used if compilation will not be within the same class
</p></div></div>
    </li><li name="org.apache.spark.sql.qualityFunctions.FunDoGenCode" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="FunDoGenCodeextendsExpressionwithCodegenFallback"></a>
      <a id="FunDoGenCode:FunDoGenCode"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="FunDoGenCode.html"><span class="name">FunDoGenCode</span></a><span class="result"> extends <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span> with <span class="extype" name="org.apache.spark.sql.catalyst.expressions.codegen.CodegenFallback">CodegenFallback</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@FunDoGenCodeextendsExpressionwithCodegenFallback" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Generate code for any FunX including nested, normal doGenCode defaults to codegenfallback
</p>
    </li><li name="org.apache.spark.sql.qualityFunctions.FunForward" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="FunForwardextendsExpressionwithCodegenFallbackwithProductwithSerializable"></a>
      <a id="FunForward:FunForward"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="FunForward.html"><span class="name">FunForward</span></a><span class="params">(<span name="children">children: <span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span>]</span>)</span><span class="result"> extends <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span> with <span class="extype" name="org.apache.spark.sql.catalyst.expressions.codegen.CodegenFallback">CodegenFallback</span> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@FunForwardextendsExpressionwithCodegenFallbackwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Forwards calls to the function arguments via setters.</p><div class="fullcomment"><div class="comment cmt"><p>Forwards calls to the function arguments via setters.  This is
only evaluated in aggExpr, all other usages are removed during lambda
creation.</p><p>This removal may also be forced in aggExpr at a later stage
</p></div></div>
    </li><li name="org.apache.spark.sql.qualityFunctions.FunN" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="FunNextendsExpressionwithHigherOrderFunctionLikewithCodegenFallbackwithSeqArgswithFunDoGenCodewithProductwithSerializable"></a>
      <a id="FunN:FunN"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="FunN.html"><span class="name">FunN</span></a><span class="params">(<span name="arguments">arguments: <span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span>]</span>, <span name="function">function: <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span></span>, <span name="name">name: <span class="extype" name="scala.Option">Option</span>[<span class="extype" name="scala.Predef.String">String</span>] = <span class="symbol">None</span></span>, <span name="processed">processed: <span class="extype" name="scala.Boolean">Boolean</span> = <span class="symbol">false</span></span>, <span name="attemptCodeGen">attemptCodeGen: <span class="extype" name="scala.Boolean">Boolean</span> = <span class="symbol">false</span></span>)</span><span class="result"> extends <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span> with <a href="../../../../../com/sparkutils/quality/impl/HigherOrderFunctionLike.html" class="extype" name="com.sparkutils.quality.impl.HigherOrderFunctionLike">HigherOrderFunctionLike</a> with <span class="extype" name="org.apache.spark.sql.catalyst.expressions.codegen.CodegenFallback">CodegenFallback</span> with <a href="SeqArgs.html" class="extype" name="org.apache.spark.sql.qualityFunctions.SeqArgs">SeqArgs</a> with <a href="FunDoGenCode.html" class="extype" name="org.apache.spark.sql.qualityFunctions.FunDoGenCode">FunDoGenCode</a> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@FunNextendsExpressionwithHigherOrderFunctionLikewithCodegenFallbackwithSeqArgswithFunDoGenCodewithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Lambda function with multiple args, typically created with a placeholder AtomicRefExpression args
</p><div class="fullcomment"><div class="comment cmt"><p>Lambda function with multiple args, typically created with a placeholder AtomicRefExpression args
</p></div><dl class="paramcmts block"><dt class="param">arguments</dt><dd class="cmt"><p>Evaluated to provide input to the function lambda</p></dd><dt class="param">function</dt><dd class="cmt"><p>the actual lambda function</p></dd><dt class="param">name</dt><dd class="cmt"><p>the lambda name when available</p></dd></dl></div>
    </li><li name="org.apache.spark.sql.qualityFunctions.HashLongsExpression" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="HashLongsExpressionextendsExpressionwithCodegenFallback"></a>
      <a id="HashLongsExpression:HashLongsExpression"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="HashLongsExpression.html"><span class="name">HashLongsExpression</span></a><span class="result"> extends <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span> with <span class="extype" name="org.apache.spark.sql.catalyst.expressions.codegen.CodegenFallback">CodegenFallback</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@HashLongsExpressionextendsExpressionwithCodegenFallback" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">A function that calculates hash value for a group of expressions.</p><div class="fullcomment"><div class="comment cmt"><p>A function that calculates hash value for a group of expressions.  Note that the <code>seed</code> argument
is not exposed to users and should only be set inside spark SQL.</p><p>The hash value for an expression depends on its type and seed:</p><ul><li>null:                    seed</li><li>boolean:                 turn boolean into int, 1 for true, 0 for false,
                            and then use murmur3 to hash this int with seed.</li><li>byte, short, int:        use murmur3 to hash the input as int with seed.</li><li>long:                    use murmur3 to hash the long input with seed.</li><li>float:                   turn it into int: java.lang.Float.floatToIntBits(input), and hash it.</li><li>double:                  turn it into long: java.lang.Double.doubleToLongBits(input),
                            and hash it.</li><li>decimal:                 if it's a small decimal, i.e. precision &lt;= 18, turn it into long
                            and hash it. Else, turn it into bytes and hash it.</li><li>calendar interval:       hash <code>microseconds</code> first, and use the result as seed
                            to hash <code>months</code>.</li><li>interval day to second:  it store long value of <code>microseconds</code>, use murmur3 to hash the long
                            input with seed.</li><li>interval year to month:  it store int value of <code>months</code>, use murmur3 to hash the int
                            input with seed.</li><li>binary:                  use murmur3 to hash the bytes with seed.</li><li>string:                  get the bytes of string and hash it.</li><li>array:                   The <code>result</code> starts with seed, then use <code>result</code> as seed, recursively
                            calculate hash value for each element, and assign the element hash
                            value to <code>result</code>.</li><li>struct:                  The <code>result</code> starts with seed, then use <code>result</code> as seed, recursively
                            calculate hash value for each field, and assign the field hash value
                            to <code>result</code>.</li></ul><p>Finally we aggregate the hash values for each expression by the same way of struct.
</p></div></div>
    </li><li name="org.apache.spark.sql.qualityFunctions.InputTypeChecks" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="InputTypeChecksextendsExpressionwithExpectsInputTypes"></a>
      <a id="InputTypeChecks:InputTypeChecks"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="InputTypeChecks.html"><span class="name">InputTypeChecks</span></a><span class="result"> extends <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span> with <span class="extype" name="org.apache.spark.sql.catalyst.expressions.ExpectsInputTypes">ExpectsInputTypes</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@InputTypeChecksextendsExpressionwithExpectsInputTypes" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Provides a simpler wrapper around types
</p>
    </li><li name="org.apache.spark.sql.qualityFunctions.InterpretedHashLongsFunction" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="InterpretedHashLongsFunctionextendsAnyRef"></a>
      <a id="InterpretedHashLongsFunction:InterpretedHashLongsFunction"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="InterpretedHashLongsFunction.html"><span class="name">InterpretedHashLongsFunction</span></a><span class="result"> extends <span class="extype" name="scala.AnyRef">AnyRef</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@InterpretedHashLongsFunctionextendsAnyRef" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Base class for interpreted hash functions.</p>
    </li><li name="org.apache.spark.sql.qualityFunctions.MapMerge" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="MapMergeextendsExpressionwithCodegenFallbackwithProductwithSerializable"></a>
      <a id="MapMerge:MapMerge"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="MapMerge.html"><span class="name">MapMerge</span></a><span class="params">(<span name="children">children: <span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span>]</span>, <span name="addF">addF: (<span class="extype" name="org.apache.spark.sql.types.DataType">DataType</span>) ⇒ <span class="extype" name="scala.Option">Option</span>[(<span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span>, <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span>) ⇒ <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span>]</span>)</span><span class="result"> extends <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span> with <span class="extype" name="org.apache.spark.sql.catalyst.expressions.codegen.CodegenFallback">CodegenFallback</span> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@MapMergeextendsExpressionwithCodegenFallbackwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Transforms a map
</p><div class="fullcomment"><div class="comment cmt"><p>Transforms a map
</p></div><dl class="paramcmts block"><dt class="param">children</dt><dd class="cmt"><p>seq of maps of type x to y, they must all have the same types</p></dd><dt class="param">addF</dt><dd class="cmt"><p>function to derive the add expr for monoidal add on values</p></dd></dl></div>
    </li><li name="org.apache.spark.sql.qualityFunctions.MapTransform" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="MapTransformextendsExpressionwithHigherOrderFunctionLikewithCodegenFallbackwithSeqArgswithProductwithSerializable"></a>
      <a id="MapTransform:MapTransform"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="MapTransform.html"><span class="name">MapTransform</span></a><span class="params">(<span name="argument">argument: <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span></span>, <span name="key">key: <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span></span>, <span name="function">function: <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span></span>, <span name="zeroF">zeroF: (<span class="extype" name="org.apache.spark.sql.types.DataType">DataType</span>) ⇒ <span class="extype" name="scala.Option">Option</span>[<span class="extype" name="scala.Any">Any</span>]</span>)</span><span class="result"> extends <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span> with <a href="../../../../../com/sparkutils/quality/impl/HigherOrderFunctionLike.html" class="extype" name="com.sparkutils.quality.impl.HigherOrderFunctionLike">HigherOrderFunctionLike</a> with <span class="extype" name="org.apache.spark.sql.catalyst.expressions.codegen.CodegenFallback">CodegenFallback</span> with <a href="SeqArgs.html" class="extype" name="org.apache.spark.sql.qualityFunctions.SeqArgs">SeqArgs</a> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@MapTransformextendsExpressionwithHigherOrderFunctionLikewithCodegenFallbackwithSeqArgswithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Transforms a map
</p><div class="fullcomment"><div class="comment cmt"><p>Transforms a map
</p></div><dl class="paramcmts block"><dt class="param">argument</dt><dd class="cmt"><p>map of type x to y,</p></dd><dt class="param">key</dt><dd class="cmt"><p>expr for key</p></dd><dt class="param">function</dt><dd class="cmt"><p>value to value transformation for that key entry</p></dd></dl></div>
    </li><li name="org.apache.spark.sql.qualityFunctions.NamedLambdaVariableCodeGen" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="NamedLambdaVariableCodeGenextendsLeafExpressionwithNamedExpressionwithProductwithSerializable"></a>
      <a id="NamedLambdaVariableCodeGen:NamedLambdaVariableCodeGen"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="NamedLambdaVariableCodeGen.html"><span class="name">NamedLambdaVariableCodeGen</span></a><span class="params">(<span name="name">name: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="dataType">dataType: <span class="extype" name="org.apache.spark.sql.types.DataType">DataType</span></span>, <span name="nullable">nullable: <span class="extype" name="scala.Boolean">Boolean</span></span>, <span name="exprId">exprId: <span class="extype" name="org.apache.spark.sql.catalyst.expressions.ExprId">ExprId</span></span>, <span name="valueRef">valueRef: <span class="extype" name="scala.Predef.String">String</span></span>)</span><span class="result"> extends <span class="extype" name="org.apache.spark.sql.catalyst.expressions.LeafExpression">LeafExpression</span> with <span class="extype" name="org.apache.spark.sql.catalyst.expressions.NamedExpression">NamedExpression</span> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@NamedLambdaVariableCodeGenextendsLeafExpressionwithNamedExpressionwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Replaces NamedLambdaVariables for simple inlined codegen.</p>
    </li><li name="org.apache.spark.sql.qualityFunctions.PlaceHolderExpression" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="PlaceHolderExpressionextendsLeafExpressionwithUnevaluablewithProductwithSerializable"></a>
      <a id="PlaceHolderExpression:PlaceHolderExpression"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="PlaceHolderExpression.html"><span class="name">PlaceHolderExpression</span></a><span class="params">(<span name="dataType">dataType: <span class="extype" name="org.apache.spark.sql.types.DataType">DataType</span></span>, <span name="nullable">nullable: <span class="extype" name="scala.Boolean">Boolean</span> = <span class="symbol">true</span></span>)</span><span class="result"> extends <span class="extype" name="org.apache.spark.sql.catalyst.expressions.LeafExpression">LeafExpression</span> with <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Unevaluable">Unevaluable</span> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@PlaceHolderExpressionextendsLeafExpressionwithUnevaluablewithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Only used with Lambda placeholders, defaults to allowing nullable values</p>
    </li><li name="org.apache.spark.sql.qualityFunctions.RefCodeGen" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="RefCodeGenextendsAnyRef"></a>
      <a id="RefCodeGen:RefCodeGen"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="RefCodeGen.html"><span class="name">RefCodeGen</span></a><span class="result"> extends <span class="extype" name="scala.AnyRef">AnyRef</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@RefCodeGenextendsAnyRef" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="org.apache.spark.sql.qualityFunctions.RefExpression" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="RefExpressionextendsLeafExpressionwithRefCodeGenwithProductwithSerializable"></a>
      <a id="RefExpression:RefExpression"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="RefExpression.html"><span class="name">RefExpression</span></a><span class="params">(<span name="dataType">dataType: <span class="extype" name="org.apache.spark.sql.types.DataType">DataType</span></span>, <span name="nullable">nullable: <span class="extype" name="scala.Boolean">Boolean</span> = <span class="symbol">true</span></span>, <span name="index">index: <span class="extype" name="scala.Int">Int</span> = <span class="symbol">1</span></span>)</span><span class="result"> extends <span class="extype" name="org.apache.spark.sql.catalyst.expressions.LeafExpression">LeafExpression</span> with <a href="RefCodeGen.html" class="extype" name="org.apache.spark.sql.qualityFunctions.RefCodeGen">RefCodeGen</a> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@RefExpressionextendsLeafExpressionwithRefCodeGenwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Getter, trimmed version of NamedLambdaVariable as it should never be resolved</p>
    </li><li name="org.apache.spark.sql.qualityFunctions.RefExpressionLazyType" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="RefExpressionLazyTypeextendsLeafExpressionwithRefCodeGenwithProductwithSerializable"></a>
      <a id="RefExpressionLazyType:RefExpressionLazyType"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="RefExpressionLazyType.html"><span class="name">RefExpressionLazyType</span></a><span class="params">(<span name="dataTypeF">dataTypeF: () ⇒ <span class="extype" name="org.apache.spark.sql.types.DataType">DataType</span></span>, <span name="nullable">nullable: <span class="extype" name="scala.Boolean">Boolean</span></span>)</span><span class="result"> extends <span class="extype" name="org.apache.spark.sql.catalyst.expressions.LeafExpression">LeafExpression</span> with <a href="RefCodeGen.html" class="extype" name="org.apache.spark.sql.qualityFunctions.RefCodeGen">RefCodeGen</a> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@RefExpressionLazyTypeextendsLeafExpressionwithRefCodeGenwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Getter, trimmed version of NamedLambdaVariable as it should never be resolved</p>
    </li><li name="org.apache.spark.sql.qualityFunctions.RefSetterExpression" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="RefSetterExpressionextendsExpressionwithCodegenFallbackwithProductwithSerializable"></a>
      <a id="RefSetterExpression:RefSetterExpression"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="RefSetterExpression.html"><span class="name">RefSetterExpression</span></a><span class="params">(<span name="children">children: <span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span>]</span>)</span><span class="result"> extends <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span> with <span class="extype" name="org.apache.spark.sql.catalyst.expressions.codegen.CodegenFallback">CodegenFallback</span> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@RefSetterExpressionextendsExpressionwithCodegenFallbackwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Wraps other expressions and stores the result in an RefExpression -
</p>
    </li><li name="org.apache.spark.sql.qualityFunctions.RunAllReturnLast" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="RunAllReturnLastextendsExpressionwithCodegenFallbackwithProductwithSerializable"></a>
      <a id="RunAllReturnLast:RunAllReturnLast"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="RunAllReturnLast.html"><span class="name">RunAllReturnLast</span></a><span class="params">(<span name="children">children: <span class="extype" name="scala.Seq">Seq</span>[<span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span>]</span>)</span><span class="result"> extends <span class="extype" name="org.apache.spark.sql.catalyst.expressions.Expression">Expression</span> with <span class="extype" name="org.apache.spark.sql.catalyst.expressions.codegen.CodegenFallback">CodegenFallback</span> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@RunAllReturnLastextendsExpressionwithCodegenFallbackwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Runs all of the children and returns the last's eval result - allows stitching together lambdas with aggregates</p>
    </li><li name="org.apache.spark.sql.qualityFunctions.SeqArgs" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="SeqArgsextendsAnyRef"></a>
      <a id="SeqArgs:SeqArgs"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="SeqArgs.html"><span class="name">SeqArgs</span></a><span class="result"> extends <span class="extype" name="scala.AnyRef">AnyRef</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@SeqArgsextendsAnyRef" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="org.apache.spark.sql.qualityFunctions.FunCall" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="FunCall"></a>
      <a id="FunCall:FunCall"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="FunCall$.html"><span class="name">FunCall</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@FunCall" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="org.apache.spark.sql.qualityFunctions.LambdaCompilationUtils" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="LambdaCompilationUtils"></a>
      <a id="LambdaCompilationUtils:LambdaCompilationUtils"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="LambdaCompilationUtils$.html"><span class="name">LambdaCompilationUtils</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@LambdaCompilationUtils" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Functionality related to LambdaCompilation.</p><div class="fullcomment"><div class="comment cmt"><p>Functionality related to LambdaCompilation.  Seemingly all HigherOrderFunctions use a lazy val match to extract the
NamedLambdaVariable's from the spark LambdaFunction after bind has been called.
When doGenCode is called eval _could_ have been called and the lazy val evaluated, as such simply rewriting the tree
may not fully work.  Additionally the type for NamedLambdaVariable is bound in the lazy val's which means _ANY_
HigherOrderFunction may not tolerate swapping out NamedLambdaVariables for another NamedExpression.</p><p>To add to the fun OpenSource Spark HoF's all use CodegenFallback, as does NamedLambdaVariable, so it's possible to
swap out some of these implementations if an array_transform is nested in a Fun1 or Fun2.  Similarly Fun1's can call Fun2
so the assumptions are for each Fun1/FunN doCodeGen:</p><p>1. Use the processLambda function to evaluate the function
2. compilationHandlers uses the quality.lambdaHandlers environment variable to load a comma separated list of fqn=handler pairs
3. each fully qualified class name pair (e.g. org.apache.spark.sql.catalyst.expressions.ZipWith=handler.fqn) handler is loaded
4. processLambda then evaluates the expression tree, for each matching HoF classname it will call the handler
5. handlers are used to perform the custom doGenCode for that expression rather than the default OSS CodegenFallback
6. handlers return the ExprCode AND a list of NamedLambdaVariables who must have .value.set called upon them (e.g. we can't optimise them)</p><p>NB The fqn will also be used to check for named' lambdas used through registerLambdaFunctions.</p><p>https://github.com/apache/spark/pull/21954 introduced the lambdavariable with AtomicReference, it's inherent performance hit and,
due to the difficulty of threading the holder through the expression chain did not have a compilation approach.  After
it's threaded and bind has been called the variable id is stable as is the AtomicReference, as such it can be swapped out
for a simple variable in the same object.</p><p>quality.lambdaHandlers will override the default for a given platform on an fqn basis, so you only need to &quot;add&quot; or &quot;replace&quot; the
HoFs that cause issue not the entire list of OSS HigherOrderFunctions for example TransformValues.  Note that some versions
of Databricks provide compilation of their HoF's that may not be compatible in approach.</p><p>Disable this approach by using the quality.lambdaHandlers to disable FunN with the default DoCodegenFallbackHandler:
  quality.lambdaHandlers=org.apache.spark.sql.qualityFunctions.FunN=org.apache.spark.sql.qualityFunctions.DoCodegenFallbackHandler
</p></div></div>
    </li><li name="org.apache.spark.sql.qualityFunctions.LambdaFunctions" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="LambdaFunctions"></a>
      <a id="LambdaFunctions:LambdaFunctions"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="LambdaFunctions$.html"><span class="name">LambdaFunctions</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@LambdaFunctions" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="org.apache.spark.sql.qualityFunctions.MapTransform" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="MapTransform"></a>
      <a id="MapTransform:MapTransform"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="MapTransform$.html"><span class="name">MapTransform</span></a><span class="result"> extends <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@MapTransform" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="org.apache.spark.sql.qualityFunctions.SafeUTF8" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="SafeUTF8"></a>
      <a id="SafeUTF8:SafeUTF8"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="SafeUTF8$.html"><span class="name">SafeUTF8</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@SafeUTF8" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="org.apache.spark.sql.qualityFunctions.SeqArgs" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="SeqArgs"></a>
      <a id="SeqArgs:SeqArgs"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="SeqArgs$.html"><span class="name">SeqArgs</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@SeqArgs" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="org.apache.spark.sql.qualityFunctions.UnresolvedNamedLambdaVariableT" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="UnresolvedNamedLambdaVariableT"></a>
      <a id="UnresolvedNamedLambdaVariableT:UnresolvedNamedLambdaVariableT"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="UnresolvedNamedLambdaVariableT$.html"><span class="name">UnresolvedNamedLambdaVariableT</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@UnresolvedNamedLambdaVariableT" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="org.apache.spark.sql.qualityFunctions.utils" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="utils"></a>
      <a id="utils:utils"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="utils$.html"><span class="name">utils</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#org.apache.spark.sql.qualityFunctions.package@utils" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
